# Re-import and re-save annotated code after execution environment reset

# Recreate the annotated version (since memory was wiped)
annotated_code = """# ğŸŸ¥ A - ë©”ì¸ ê²Œì„ í´ë˜ìŠ¤
class Game:
    # ğŸŸ¥ A - ê²Œì„ ì´ˆê¸°í™” í•¨ìˆ˜
    def __init__(self): ########################## ê²Œì„ ì‹œì‘
        pg.init()
        pg.mixer.init()     # ì‚¬ìš´ë“œ ë¯¹ì„œ ì´ˆê¸°í™”
        pg.display.set_caption(TITLE)       # ê²Œì„ ì°½ ì œëª© ì„¤ì •
        self.screen = pg.display.set_mode((WIDTH, HEIGHT))      # í™”ë©´ í¬ê¸° ì„¤ì •
        self.screen_mode = 0    # í™”ë©´ ëª¨ë“œ (0: ë¡œê³ , 1: ë¡œê³ 2, 2: ë©”ì¸, 3: ìŠ¤í…Œì´ì§€ ì„ íƒ, 4: í”Œë ˆì´, 5: ì ìˆ˜)
        self.screen_value = [-ALPHA_MAX, 0, 0, 0]       # í™”ë©´ ì „í™˜ì„ ìœ„í•œ ì•ŒíŒŒê°’ ë“± ì„¤ì •
        self.clock = pg.time.Clock()        # FPS íƒ€ì´ë¨¸
        self.start_tick = 0     # ê²Œì„ ì‹œì‘ ì‹œê°„
        self.running = True     # ê²Œì„ ì‹¤í–‰ ì—¬ë¶€
        self.language_mode = 0         # ì–¸ì–´ ëª¨ë“œ (0: ì˜ì–´, 1: í•œêµ­ì–´ ë“±)
        self.song_select = 1    # ì„ íƒëœ ê³¡ ë²ˆí˜¸
        self.load_date()        # ë¦¬ì†ŒìŠ¤ ë° ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        self.new()              # ê²Œì„ ìƒíƒœ ì´ˆê¸°í™”
        pg.mixer.music.load(self.bg_main)       # ë©”ì¸ BGM ë¡œë”©

    # ğŸŸ¦ B - í°íŠ¸, ì´ë¯¸ì§€, ì‚¬ìš´ë“œ, ë…¸ë˜ ë“± ë¦¬ì†ŒìŠ¤ ë¶ˆëŸ¬ì˜¤ê¸°
    def load_date(self): ########################## ë°ì´í„° ë¡œë”©
        ...

    # ğŸŸ¥ A - ê²Œì„ ìƒíƒœ ë³€ìˆ˜ ì´ˆê¸°í™”
    def new(self):      ########################## ê²Œì„ ìƒíƒœ ì´ˆê¸°í™”
        ...

    # ğŸŸ¥ A - ë©”ì¸ ê²Œì„ ë£¨í”„ ì‹¤í–‰
    def run(self):      ########################## ê²Œì„ ë£¨í”„
        ...

    # ğŸŸ¥ A - ë§¤ í”„ë ˆì„ ê²Œì„ ìƒíƒœ ì—…ë°ì´íŠ¸
    def update(self):   ########################## ê²Œì„ ë£¨í”„ - ì—…ë°ì´íŠ¸
        ...

    # ğŸŸ¥ A - í‚¤ë³´ë“œ/ë§ˆìš°ìŠ¤ ì…ë ¥ ì²˜ë¦¬
    def events(self):   ########################## ê²Œì„ ë£¨í”„ - ì´ë²¤íŠ¸ ì²˜ë¦¬
        ...

    # ğŸŸ¨ C - í™”ë©´ ì¶œë ¥
    def draw(self):     ########################## ê²Œì„ ë£¨í”„ - ê·¸ë¦¬ê¸°
        ...

    # ğŸŸ¨ C - í˜„ì¬ í™”ë©´ ìƒíƒœì— ë§ëŠ” ìš”ì†Œ ê·¸ë¦¬ê¸°
    def draw_screen(self):                    # í™”ë©´ ê·¸ë¦¬ê¸°
        ...

    # ğŸŸ¦ B - ë…¸ë˜ì— ë”°ë¥¸ ë…¸íŠ¸ íƒ€ì´ë° ë°ì´í„° ë¡œë“œ
    def load_songData(self):
        ...

    # ğŸŸ© D - ì‹œê°„ì— ë§ëŠ” ë…¸íŠ¸ ìƒì„±
    def create_shot(self):
        ...

    # ğŸŸ¨ C - ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ ì¶œë ¥ í•¨ìˆ˜
    def draw_sprite(self, coord, spr, alpha = ALPHA_MAX, rot = 0):
        ...

    # ğŸŸ¨ C - í…ìŠ¤íŠ¸ ì¶œë ¥ í•¨ìˆ˜
    def draw_text(self, text, size, color, x, y, alpha = ALPHA_MAX, boldunderline = False):
        ...

# ğŸŸ¦ B - ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ì—ì„œ ì´ë¯¸ì§€ ì˜ë¼ì˜¤ê¸° í´ë˜ìŠ¤
class Spritesheet:
    def __init__(self, filename):
        ...

    def get_image(self, x, y, width, height):
        ...

# ğŸŸ© D - ë…¸íŠ¸(Shot) í´ë˜ìŠ¤: ì´ë™í•˜ëŠ” ë…¸íŠ¸ ê°ì²´
class Shot(pg.sprite.Sprite):           ####################################### Shot í´ë˜ìŠ¤
    def __init__(self, game, color, mode, direction, speed):      # ìƒ‰ìƒ(WBDR), ë°©í–¥(DRUL), íšŒì „ë°©í–¥, ì†ë„
        ...

    # ğŸŸ© D - ë…¸íŠ¸ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ ë° íŒì • ì²˜ë¦¬
    def update(self):
        ...

# ğŸŸ¥ A - ê²Œì„ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì‹¤í–‰
game = Game()
while game.running:
    game.run()
pg.quit()
"""

# Save to file
output_path = "/mnt/data/4Beats_Annotated_KR.py"
with open(output_path, "w", encoding="utf-8") as f:
    f.write(annotated_code)

output_path
